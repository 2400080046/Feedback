<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preview - Student Feedback System</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Scripts -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            --primary: #6366f1;
            --primary-hover: #4f46e5;
            --secondary: #ec4899;
            --accent: #8b5cf6;
            --bg-main: #0f172a;
            --bg-card: #1e293b;
            --bg-hover: #334155;
            --text-main: #f8fafc;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --glass: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-main);
            color: var(--text-main);
            line-height: 1.5;
            min-height: 100vh;
            overflow: hidden;
        }

        .glass {
            background: var(--glass);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
        }

        /* Layout Styles */
        .app-container {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 260px;
            margin: 1rem;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .main-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 1rem 1rem 1rem 0;
            overflow: hidden;
        }

        .top-header {
            height: 70px;
            padding: 0 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .content-scroll {
            flex: 1;
            overflow-y: auto;
            padding-right: 0.5rem;
            padding: 1rem;
        }

        /* Component Styles */
        .nav-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            color: var(--text-secondary);
            cursor: pointer;
            text-decoration: none;
        }

        .nav-item.active {
            background: var(--primary);
            color: white;
        }

        .stat-card {
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1.25rem;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Login Styles */
        .login-page {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: radial-gradient(circle at top right, rgba(99, 102, 241, 0.15), transparent);
        }

        .login-card {
            width: 420px;
            padding: 3rem;
            text-align: center;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            text-align: left;
            margin-top: 2rem;
        }

        input {
            width: 100%;
            padding: 0.75rem;
            background: var(--bg-hover);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            color: white;
            margin-top: 0.5rem;
        }

        .login-btn {
            padding: 0.75rem;
            background: var(--primary);
            color: white;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 1rem;
        }

        /* Utility */
        .logo-text {
            font-family: 'Outfit';
            font-weight: 700;
            font-size: 1.25rem;
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Dummy Data ---
        const COURSES = [
            { id: 'C1', code: 'CS101', name: 'Intro to Programming', instructor: 'Dr. Alan Turing' },
            { id: 'C2', code: 'DS201', name: 'Data Structures', instructor: 'Prof. Grace Hopper' },
        ];

        // --- Icon Component Proxy ---
        const Icon = ({ name, size = 20, color = "currentColor", ...props }) => {
            useEffect(() => {
                lucide.createIcons();
            }, [name]);
            return <i data-lucide={name} style={{ width: size, height: size, color: color }} {...props}></i>;
        };

        // --- Login Page ---
        const LoginPage = ({ onLogin }) => {
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');

            const handleSubmit = (e) => {
                e.preventDefault();
                if (email === 'admin@system.com') onLogin({ role: 'admin', name: 'Admin User' });
                else onLogin({ role: 'student', name: 'Student User' });
            };

            return (
                <div className="login-page">
                    <div className="login-card glass">
                        <h1 className="logo-text">ðŸŽ“ FeedbackPro</h1>
                        <p style={{ color: 'var(--text-secondary)', marginTop: '0.5rem' }}>Sign in to continue</p>
                        <form className="login-form" onSubmit={handleSubmit}>
                            <label>Email (admin@system.com or student@system.com)</label>
                            <input type="email" value={email} onChange={e => setEmail(e.target.value)} required />
                            <label>Password</label>
                            <input type="password" value={password} onChange={e => setPassword(e.target.value)} required />
                            <button className="login-btn">Sign In</button>
                        </form>
                    </div>
                </div>
            );
        };

        // --- Dashboards ---
        const StudentDashboard = () => (
            <div>
                <div className="stats-grid">
                    {[
                        { label: 'Courses', val: 4, icon: 'book-open', color: '#6366f1' },
                        { label: 'Feedback Done', val: 2, icon: 'check-circle', color: '#10b981' },
                        { label: 'Pending', val: 2, icon: 'clock', color: '#f59e0b' },
                    ].map(s => (
                        <div className="stat-card glass" key={s.label}>
                            <div className="stat-icon" style={{ background: s.color + '20' }}>
                                <Icon name={s.icon} color={s.color} />
                            </div>
                            <div>
                                <p style={{ color: 'var(--text-secondary)', fontSize: '0.8rem' }}>{s.label}</p>
                                <p style={{ fontSize: '1.5rem', fontWeight: 700 }}>{s.val}</p>
                            </div>
                        </div>
                    ))}
                </div>
                <h2 style={{ marginBottom: '1rem' }}>Current Courses</h2>
                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>
                    {COURSES.map(c => (
                        <div className="glass" style={{ padding: '1.5rem' }} key={c.id}>
                            <p style={{ color: 'var(--primary)', fontWeight: 700, fontSize: '0.8rem' }}>{c.code}</p>
                            <h3>{c.name}</h3>
                            <p style={{ color: 'var(--text-secondary)' }}>{c.instructor}</p>
                        </div>
                    ))}
                </div>
            </div>
        );

        const AdminDashboard = () => (
            <div>
                <div className="stats-grid">
                    {[
                        { label: 'Total Students', val: 1250, icon: 'users', color: '#6366f1' },
                        { label: 'Feedbacks', val: 840, icon: 'message-square', color: '#10b981' },
                        { label: 'Avg Rating', val: '4.2', icon: 'star', color: '#f59e0b' },
                    ].map(s => (
                        <div className="stat-card glass" key={s.label}>
                            <div className="stat-icon" style={{ background: s.color + '20' }}>
                                <Icon name={s.icon} color={s.color} />
                            </div>
                            <div>
                                <p style={{ color: 'var(--text-secondary)', fontSize: '0.8rem' }}>{s.label}</p>
                                <p style={{ fontSize: '1.5rem', fontWeight: 700 }}>{s.val}</p>
                            </div>
                        </div>
                    ))}
                </div>
                <div className="glass" style={{ padding: '1.5rem' }}>
                    <h3>Recent Submissions</h3>
                    <div style={{ marginTop: '1rem', display: 'flex', flexDirection: 'column', gap: '1rem' }}>
                        {[1, 2, 3].map(i => (
                            <div key={i} style={{ display: 'flex', justifyContent: 'space-between', padding: '0.5rem', borderBottom: '1px solid var(--glass-border)' }}>
                                <span>Student #{i} submitted for CS10{i}</span>
                                <span style={{ color: 'var(--success)' }}>â˜…â˜…â˜…â˜…â˜…</span>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        );

        // --- Main App ---
        const App = () => {
            const [user, setUser] = useState(null);
            const [view, setView] = useState('dashboard');

            if (!user) return <LoginPage onLogin={setUser} />;

            const navItems = user.role === 'admin'
                ? [{ id: 'dashboard', label: 'Dashboard', icon: 'layout-dashboard' }, { id: 'analytics', label: 'Analytics', icon: 'bar-chart' }]
                : [{ id: 'dashboard', label: 'Dashboard', icon: 'home' }, { id: 'feedback', label: 'Give Feedback', icon: 'clipboard-list' }];

            return (
                <div className="app-container">
                    <aside className="sidebar glass">
                        <div className="logo-text">ðŸŽ“ FeedbackPro</div>
                        <nav style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem', flex: 1 }}>
                            {navItems.map(item => (
                                <div
                                    key={item.id}
                                    className={`nav-item ${view === item.id ? 'active' : ''}`}
                                    onClick={() => setView(item.id)}
                                >
                                    <Icon name={item.icon} />
                                    <span>{item.label}</span>
                                </div>
                            ))}
                        </nav>
                        <div className="nav-item" style={{ color: 'var(--danger)' }} onClick={() => setUser(null)}>
                            <Icon name="log-out" />
                            <span>Logout</span>
                        </div>
                    </aside>

                    <main className="main-area">
                        <header className="top-header glass">
                            <h2>{navItems.find(i => i.id === view)?.label}</h2>
                            <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>
                                <div style={{ textAlign: 'right' }}>
                                    <p style={{ fontSize: '0.8rem', fontWeight: 600 }}>{user.name}</p>
                                    <p style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>{user.role}</p>
                                </div>
                                <div style={{ width: 40, height: 40, borderRadius: '50%', background: 'var(--primary)', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>
                                    <Icon name="user" color="white" />
                                </div>
                            </div>
                        </header>
                        <div className="content-scroll">
                            {view === 'dashboard' && (user.role === 'admin' ? <AdminDashboard /> : <StudentDashboard />)}
                            {view === 'feedback' && <div className="glass" style={{ padding: '2rem', textAlign: 'center' }}><h2>Feedback Form</h2><p>Select course to begin...</p></div>}
                            {view === 'analytics' && <div className="glass" style={{ padding: '2rem', textAlign: 'center' }}><h2>Advanced Analytics</h2><p>Projected trends for 2024</p></div>}
                        </div>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>